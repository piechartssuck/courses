<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Comparing Groups</title>
    <meta charset="utf-8" />
    <meta name="author" content="Week 11" />
    <script src="Slides-Week-11R-Extra_files/header-attrs-2.11/header-attrs.js"></script>
    <link href="Slides-Week-11R-Extra_files/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="Slides-Week-11R-Extra_files/tile-view-0.2.6/tile-view.js"></script>
    <link href="Slides-Week-11R-Extra_files/animate.css-3.7.2/animate.xaringan.css" rel="stylesheet" />
    <link href="Slides-Week-11R-Extra_files/tachyons-4.12.0/tachyons.min.css" rel="stylesheet" />
    <script src="Slides-Week-11R-Extra_files/kePrint-0.0.1/kePrint.js"></script>
    <link href="Slides-Week-11R-Extra_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Comparing Groups
### Week 11

---




&lt;script&gt;
  function resizeIframe(obj) {
    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
  }
&lt;/script&gt;

&lt;style&gt;
section {
    display: flex;
    display: -webkit-flex;
}

section p {
    margin: auto;
}

.hljs-github .hljs {
    background: transparent;
    color: #b2dfdb;
}

.hljs-github .hljs-keyword {
    color: #64b5f6;
}

.hljs-github .hljs-literal {
    color: #64b5f6;
}

.hljs-github .hljs-number {
    color: #64b5f6;
}

.hljs-github .hljs-string {
    color: #b7b3ef;
}

section {
    height: 600px;
    width: 60%;
    margin: auto;
    border-radius: 20px;
    background-color: #212121;
}

section p {
    text-align: center;
    font-size: 30px;
    background-color: #212121;
    border-radius: 20px;
    font-family: Roboto Condensed;
    font-style: bold;
    padding: 15px;
    color: #bff4ee;
}

#center {
text-align: center;
}

.center p {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

.center2 {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

.custom-inline {
  color: #bff4ee;
}



<div>
<style type="text/css">.xaringan-extra-logo {
width: 110px;
height: 128px;
z-index: 0;
background-image: url(/Users/skynet/Documents/WVU/Teaching/GitHub.nosync/Workspace/edp613/static/img/course_hex_alpha.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:1em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.title-slide):not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('a')
          logo.classList = 'xaringan-extra-logo'
          logo.href = 'https://edp613.asocialdatascientist.com'
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>

# Packages needed and a Note about Icons

Please load up the following packages. Remember to first install the ones you don't have.



&lt;br&gt;
&lt;br&gt;
You may come across the following icons. The table below lists what each means.


&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;background-color: #181818 !important;"&gt; Icon &lt;/th&gt;
   &lt;th style="text-align:left;background-color: #181818 !important;"&gt; Description &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 10em; background-color: #181818 !important;"&gt; &lt;svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:
#4682b4;overflow:visible;position:relative;"&gt;&lt;path d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"&gt;&lt;/path&gt;&lt;/svg&gt; &lt;/td&gt;
   &lt;td style="text-align:left;width: 40em; background-color: #181818 !important;"&gt; Indicates that an example continues on the following slide. &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 10em; background-color: #181818 !important;"&gt; &lt;svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#ff6347;overflow:visible;position:relative;"&gt;&lt;path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"&gt;&lt;/path&gt;&lt;/svg&gt; &lt;/td&gt;
   &lt;td style="text-align:left;width: 40em; background-color: #181818 !important;"&gt; Indicates that a section using common syntax has ended. &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 10em; background-color: #181818 !important;"&gt; &lt;svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#5cb85c;overflow:visible;position:relative;"&gt;&lt;path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"&gt;&lt;/path&gt;&lt;/svg&gt; &lt;/td&gt;
   &lt;td style="text-align:left;width: 40em; background-color: #181818 !important;"&gt; Indicates that there is an active hyperlink on the slide. &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;width: 10em; background-color: #181818 !important;"&gt; &lt;svg aria-hidden="true" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#5cb85c;overflow:visible;position:relative;"&gt;&lt;path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"&gt;&lt;/path&gt;&lt;/svg&gt; &lt;/td&gt;
   &lt;td style="text-align:left;width: 40em; background-color: #181818 !important;"&gt; Indicates that a section covering a concept has ended. &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

# The `compareGroups` package

- Originally designed to read, interpret, summarize, display and analyze epidemiological data. 

--

- Allows you to create everything from data summaries for quality control.

---

# Starting up

Let's use one of the preloaded data sets: `PREDIMED`.

--

&gt;- longitudinal study containing several baseline characteristics of the participants as well as events occurred during the 7 years follow-up period given by variables `event` and `toevent`.

--

&gt;- Each individual has been assigned to a three intervention diet randomly given by the variable `group`.

--

&gt;- You can read the study via [PubMed](https://pubmed.ncbi.nlm.nih.gov/29897866/)

--

Run the following

```r
data("predimed")
```

---

# View the Data

We can take a look at the data by 

```r
predimed %&gt;%
  head()
```

```
##            group    sex age   smoke   bmi waist       wth htn diab hyperchol
## 1        Control   Male  58  Former 33.53   122 0.7530864  No   No       Yes
## 2        Control   Male  77 Current 31.05   119 0.7300614 Yes  Yes        No
## 4  MedDiet + VOO Female  72  Former 30.86   106 0.6543210  No  Yes        No
## 5 MedDiet + Nuts   Male  71  Former 27.68   118 0.6941177 Yes   No       Yes
## 6  MedDiet + VOO Female  79   Never 35.94   129 0.8062500 Yes   No       Yes
## 8        Control   Male  63  Former 41.66   143 0.8033708 Yes  Yes       Yes
##   famhist hormo p14  toevent event
## 1      No    No  10 5.374401   Yes
## 2      No    No  10 6.097194    No
## 4     Yes    No   8 5.946612    No
## 5      No    No   8 2.907598   Yes
## 6      No    No   9 4.761123    No
## 8      No  &lt;NA&gt;   9 3.148528   Yes
```

---

# Variable Names

You can take a look at the variables in the data set by running

```r
names(predimed)
```

```
##  [1] "group"     "sex"       "age"       "smoke"     "bmi"       "waist"    
##  [7] "wth"       "htn"       "diab"      "hyperchol" "famhist"   "hormo"    
## [13] "p14"       "toevent"   "event"
```

--

Well that's not overtly helpful. Oh wait there's a codebook!




```r
predimed_vars &lt;- 
  read_csv("predimed_codebook.csv")
```

---

# Code Book 

Ok so let's take a look!


```r
predimed_vars
```

```
## # A tibble: 15 × 3
##    Name      Label                           Codes                                 
##    &lt;chr&gt;     &lt;chr&gt;                           &lt;chr&gt;                                 
##  1 group     Intervention group              Control; MedDiet + Nuts; MedDiet + VOO
##  2 sex       Sex                             Male; Female                          
##  3 age       Age                             &lt;NA&gt;                                  
##  4 smoke     Smoking                         Never; Current; Former                
##  5 bmi       Body mass index                 &lt;NA&gt;                                  
##  6 waist     Waist circumference             &lt;NA&gt;                                  
##  7 wth       Waist-to-height ratio           &lt;NA&gt;                                  
##  8 htn       Hypertension                    No; Yes                               
##  9 diab      Type-2 diabetes                 No; Yes                               
## 10 hyperchol Dyslipidemia                    No; Yes                               
## 11 famhist   Family history of premature CHD No; Yes                               
## 12 hormo     Hormone-replacement therapy     No; Yes                               
## 13 p14       MeDiet Adherence score          &lt;NA&gt;                                  
## 14 toevent   follow-up to main event (years) &lt;NA&gt;                                  
## 15 event     AMI, stroke, or CV Death        No; Yes
```

---

# Descriptive Tables for Observations

If you want to create a quick table full of descriptives that *aren't meant for exporting*, use the `descrTable()` command


```r
descrTable(group ~ ., predimed)
```

```
## 
## --------Summary descriptives table by 'Intervention group'---------
## 
## ____________________________________________________________________________________ 
##                                    Control    MedDiet + Nuts MedDiet + VOO p.overall 
##                                     N=2042        N=2100        N=2182               
## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 
## Sex:                                                                        &lt;0.001   
##     Male                         812 (39.8%)   968 (46.1%)    899 (41.2%)            
##     Female                       1230 (60.2%)  1132 (53.9%)  1283 (58.8%)            
## Age                              67.3 (6.28)   66.7 (6.02)    67.0 (6.21)    0.003   
## Smoking:                                                                     0.444   
##     Never                        1282 (62.8%)  1259 (60.0%)  1351 (61.9%)            
##     Current                      270 (13.2%)   296 (14.1%)    292 (13.4%)            
##     Former                       490 (24.0%)   545 (26.0%)    539 (24.7%)            
## Body mass index                  30.3 (3.96)   29.7 (3.77)    29.9 (3.71)   &lt;0.001   
## Waist circumference               101 (10.8)    100 (10.6)    100 (10.4)     0.045   
## Waist-to-height ratio            0.63 (0.07)   0.62 (0.06)    0.63 (0.06)   &lt;0.001   
## Hypertension:                                                                0.249   
##     No                           331 (16.2%)   362 (17.2%)    396 (18.1%)            
##     Yes                          1711 (83.8%)  1738 (82.8%)  1786 (81.9%)            
## Type-2 diabetes:                                                             0.017   
##     No                           1072 (52.5%)  1150 (54.8%)  1100 (50.4%)            
##     Yes                          970 (47.5%)   950 (45.2%)   1082 (49.6%)            
## Dyslipidemia:                                                                0.423   
##     No                           563 (27.6%)   561 (26.7%)    622 (28.5%)            
##     Yes                          1479 (72.4%)  1539 (73.3%)  1560 (71.5%)            
## Family history of premature CHD:                                             0.581   
##     No                           1580 (77.4%)  1640 (78.1%)  1675 (76.8%)            
##     Yes                          462 (22.6%)   460 (21.9%)    507 (23.2%)            
## Hormone-replacement therapy:                                                 0.850   
##     No                           1811 (98.3%)  1835 (98.4%)  1918 (98.2%)            
##     Yes                           31 (1.68%)    30 (1.61%)    36 (1.84%)             
## MeDiet Adherence score           8.44 (1.94)   8.81 (1.90)    8.77 (1.97)   &lt;0.001   
## follow-up to main event (years)  4.09 (1.74)   4.31 (1.70)    4.64 (1.60)   &lt;0.001   
## AMI, stroke, or CV Death:                                                    0.064   
##     No                           1945 (95.2%)  2030 (96.7%)  2097 (96.1%)            
##     Yes                           97 (4.75%)    70 (3.33%)    85 (3.90%)             
## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
```

---

# Descriptive Tables for Analysis 

If you want to create a table full of descriptives that *you can use for analysis*, use the `compareGroups()` command


```r
comparison &lt;- 
  compareGroups(group ~ ., predimed); comparison
```

```
## 
## 
## -------- Summary of results by groups of 'Intervention group'---------
## 
## 
##    var                             N    p.value  method            selection
## 1  Sex                             6324 &lt;0.001** categorical       ALL      
## 2  Age                             6324 0.003**  continuous normal ALL      
## 3  Smoking                         6324 0.444    categorical       ALL      
## 4  Body mass index                 6324 &lt;0.001** continuous normal ALL      
## 5  Waist circumference             6324 0.045**  continuous normal ALL      
## 6  Waist-to-height ratio           6324 &lt;0.001** continuous normal ALL      
## 7  Hypertension                    6324 0.249    categorical       ALL      
## 8  Type-2 diabetes                 6324 0.017**  categorical       ALL      
## 9  Dyslipidemia                    6324 0.423    categorical       ALL      
## 10 Family history of premature CHD 6324 0.581    categorical       ALL      
## 11 Hormone-replacement therapy     5661 0.850    categorical       ALL      
## 12 MeDiet Adherence score          6324 &lt;0.001** continuous normal ALL      
## 13 follow-up to main event (years) 6324 &lt;0.001** continuous normal ALL      
## 14 AMI, stroke, or CV Death        6324 0.064*   categorical       ALL      
## -----
## Signif. codes:  0 '**' 0.05 '*' 0.1 ' ' 1
```

---

# Subsetting

The previous example gave us the gambit. In `compareGroups(group ~ ., predimed)`, all of the variables were compared to each other. What if we just want to look at a few variables?

In this first example, we'll look at the impact of age, smoking, waist size, and hypercholesterol together on the group


```r
compareGroups(group ~ age + smoke + waist + hyperchol, 
              data = predimed)
```

```
## 
## 
## -------- Summary of results by groups of 'Intervention group'---------
## 
## 
##   var                 N    p.value method            selection
## 1 Age                 6324 0.003** continuous normal ALL      
## 2 Smoking             6324 0.444   categorical       ALL      
## 3 Waist circumference 6324 0.045** continuous normal ALL      
## 4 Dyslipidemia        6324 0.423   categorical       ALL      
## -----
## Signif. codes:  0 '**' 0.05 '*' 0.1 ' ' 1
```

Notice by using the *p*-value from the column `p.value`, we have our first indicator that something happened. It is NOT a guarantee!

---

# A Quick Note About the *p*-value

You may have read articles where the outcomes of a study are labeled as a fact because the results were *statistically significant*. 

--

- **Why isn't this right?** Historically and even to this day, *p*-values are commonly used to test and dismiss `\(H_0\)`, which generally states that there is no 

--

  - difference between two groups, or 
  
--

  - correlation between a pair of characteristics.
&lt;br&gt;
&lt;br&gt;

--

&lt;hr&gt;

--

&lt;br&gt;
  Traditionally, the mistake has been in the interpretation and reliance on the notion that 
  
 *the smaller the **p-value**, the less likely an observed set of values would occur by chance.*
  
  So `\(p\leq0.05\)` is generally taken to mean that a finding is statistically significant and therefore warrants publication which the [American Statistical Association](https://www.amstat.org/asa/files/pdfs/p-valuestatement.pdf) and [anyone who knows better than to rely on a single measure](https://www.nature.com/news/how-scientists-fool-themselves-and-how-they-can-stop-1.18517) can tell you is nonsense (what is called dumpster or garbage stats). 

---

# Ok That Wasn't a Quick A Note About the *p*-value

At best the *p*-value is what we call an *indicator* of something happening. Essentially it is one piece of evidence of many!

--

- **What it doesn't mean?** Firstly `\(p\leq0.05\)`
***does not imply that there is a 95% chance that `\(H_0\)` is correct.***

- **What it does mean!** It signifies that if the `\(H_0\)` is true and all other assumptions made are valid, then there is a 5% chance of obtaining a result at least as extreme as the one observed. 

  - **Most important?** A *p*-value cannot indicate the importance of a finding
    - *Example*: a medication can have a statistically significant effect on patients’ blood glucose levels without having a therapeutic effect.

--

- **Time to get rid of it?** Well no. It is an indicator but just because its not the end all be all measure doesn't mean it's not useful. So use it *but* also use others with it!
  - *Examples*: There are many but confidence intervals are another piece of information to use. Other approaches include Bayesian methods and effect sizes.

---

# The actual last slide strictly about *p*-values

Here is a good summary...well a summary at least:

--

&lt;br&gt;*p*-values do NOT
  - indicate *reproducibility* or *evidence*
  - *prove* or *disprove* a hypothesis
  - tell you to *accept a hypotheses*

--

&lt;br&gt;*p*-values do
  - indicate that *something is happening*
  - imply a *probability exists*
  - get misinterpreted a lot (and I mean a lot!) yielding *Type I* and *Type II Errors*
  
---

# Back to Subsetting

Now that we hopefully have an idea what the *p*-value implies, let's look at the impact of age, smoking, waist size, and hypercholesterol together on the the sample of females


```r
compareGroups(group ~ age + smoke + waist + hyperchol, 
              data = predimed, 
              subset = sex == "Female")
```

```
## 
## 
## -------- Summary of results by groups of 'group'---------
## 
## 
##   var                 N    p.value method            selection      
## 1 Age                 3645 0.056*  continuous normal sex == "Female"
## 2 Smoking             3645 0.907   categorical       sex == "Female"
## 3 Waist circumference 3645 0.016** continuous normal sex == "Female"
## 4 Dyslipidemia        3645 0.319   categorical       sex == "Female"
## -----
## Signif. codes:  0 '**' 0.05 '*' 0.1 ' ' 1
```

--

It seems that `Age` and `Waist circumference` may impact the `Female` population in the study (i.e. sample). We'd have to investigate *all* of the variables more to know for sure.

---

# Getting all of the *p*-values

If we wanted to get an idea if the variables impact each other, we can use


```r
pvals &lt;- getResults(comparison, 
                    "p.overall"); pvals
```

```
##                             Sex                             Age 
##                    8.138384e-05                    2.665539e-03 
##                         Smoking                 Body mass index 
##                    4.443536e-01                    3.405257e-06 
##             Waist circumference           Waist-to-height ratio 
##                    4.464591e-02                    7.388314e-05 
##                    Hypertension                 Type-2 diabetes 
##                    2.487579e-01                    1.725231e-02 
##                    Dyslipidemia Family history of premature CHD 
##                    4.229670e-01                    5.813070e-01 
##     Hormone-replacement therapy          MeDiet Adherence score 
##                    8.500945e-01                    1.249646e-10 
## follow-up to main event (years)        AMI, stroke, or CV Death 
##                    2.076029e-25                    6.386460e-02
```

--

Remember this is considering all of the variables, not those we subsetted!

---

# APA Tables ...

We can also create an APA 7th edition formatted table!


```r
export_comparison &lt;- 
  createTable(comparison); export_comparison
```

```
## 
## --------Summary descriptives table by 'Intervention group'---------
## 
## ____________________________________________________________________________________ 
##                                    Control    MedDiet + Nuts MedDiet + VOO p.overall 
##                                     N=2042        N=2100        N=2182               
## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 
## Sex:                                                                        &lt;0.001   
##     Male                         812 (39.8%)   968 (46.1%)    899 (41.2%)            
##     Female                       1230 (60.2%)  1132 (53.9%)  1283 (58.8%)            
## Age                              67.3 (6.28)   66.7 (6.02)    67.0 (6.21)    0.003   
## Smoking:                                                                     0.444   
##     Never                        1282 (62.8%)  1259 (60.0%)  1351 (61.9%)            
##     Current                      270 (13.2%)   296 (14.1%)    292 (13.4%)            
##     Former                       490 (24.0%)   545 (26.0%)    539 (24.7%)            
## Body mass index                  30.3 (3.96)   29.7 (3.77)    29.9 (3.71)   &lt;0.001   
## Waist circumference               101 (10.8)    100 (10.6)    100 (10.4)     0.045   
## Waist-to-height ratio            0.63 (0.07)   0.62 (0.06)    0.63 (0.06)   &lt;0.001   
## Hypertension:                                                                0.249   
##     No                           331 (16.2%)   362 (17.2%)    396 (18.1%)            
##     Yes                          1711 (83.8%)  1738 (82.8%)  1786 (81.9%)            
## Type-2 diabetes:                                                             0.017   
##     No                           1072 (52.5%)  1150 (54.8%)  1100 (50.4%)            
##     Yes                          970 (47.5%)   950 (45.2%)   1082 (49.6%)            
## Dyslipidemia:                                                                0.423   
##     No                           563 (27.6%)   561 (26.7%)    622 (28.5%)            
##     Yes                          1479 (72.4%)  1539 (73.3%)  1560 (71.5%)            
## Family history of premature CHD:                                             0.581   
##     No                           1580 (77.4%)  1640 (78.1%)  1675 (76.8%)            
##     Yes                          462 (22.6%)   460 (21.9%)    507 (23.2%)            
## Hormone-replacement therapy:                                                 0.850   
##     No                           1811 (98.3%)  1835 (98.4%)  1918 (98.2%)            
##     Yes                           31 (1.68%)    30 (1.61%)    36 (1.84%)             
## MeDiet Adherence score           8.44 (1.94)   8.81 (1.90)    8.77 (1.97)   &lt;0.001   
## follow-up to main event (years)  4.09 (1.74)   4.31 (1.70)    4.64 (1.60)   &lt;0.001   
## AMI, stroke, or CV Death:                                                    0.064   
##     No                           1945 (95.2%)  2030 (96.7%)  2097 (96.1%)            
##     Yes                           97 (4.75%)    70 (3.33%)    85 (3.90%)             
## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
```
--

*Remember this is considering all of the variables, not those we looked at*

---

# ... and Plot ...

And we can also create an APA 7th edition formatted plot!

&lt;img src="Slides-Week-11R-Extra_files/figure-html/plot-label-1-1.png" width="30%" style="display: block; margin: auto;" /&gt;

---

# ... and Other Plots


```r
plot(export_comparison["age"]) # histogram and normality plot by age
```

![](/static/slides/Week 11/Slides-Week-11R Extra_files/age.png){width=40%}



---

# Exporting

Finally you can export your items! Here are some common ways to export tables


```r
export2csv(export_comparison, 
           file = "comparison.csv") # as a csv file

export2word(export_comparison, 
            file = "comparison.docx") # as a word file

export2xls(export_comparison, 
           file = "comparison.xls") # as a word file

export2pdf(export_comparison, 
           file = "comparison.pdf") # as a pdf file
```

---

# One More Thing: The GUI

If you do not like the command line interface of R or in general, there is an experimental click-click based built in app you can by typing 


```r
cGroupsGUI(predimed)
```

It appears to work fine on a PC. However if you have a Mac and *did not* install [XQuartz](https://www.xquartz.org/) as originally instructed, there is a *statistically significant* chance it may (a) not load or (b) have quirks if it does.

---

## Thats it!
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
